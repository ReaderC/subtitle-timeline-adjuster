# 字幕时间轴调整工具

一个简单而强大的在线工具，用于调整字幕文件（`.srt` 和 `.ass`）的时间轴，以完美匹配您的视频。

## ✨ 功能特性

- **视频与字幕同步预览**：同时加载视频和字幕文件，实时预览调整效果。
- **灵活的时间轴调整**：
  - **批量调整**：可以对整个字幕文件进行整体提前或延迟，支持预设值（如50ms）和自定义毫秒输入。
  - **单行微调**：在字幕编辑器中，可以对每一行字幕的开始和结束时间进行精确调整。
- **强大的字幕编辑器**：
  - **增删字幕**：可以随时在视频的当前时间点增加新的字幕行，或删除任何不需要的行。
  - **文本编辑**：直接在编辑器中修改字幕文本。
  - **独立编辑模式**：无需加载视频，可以直接打开、编辑和保存字幕文件。
- **播放器控制**：支持调整视频播放速度，方便您在慢动作下对齐字幕。
- **文件管理**：
  - 支持从本地上传或拖拽上传文件。
  - （可选）支持浏览和加载服务器上的文件。
- **保存与下载**：完成调整后，可以轻松保存并下载修改后的字幕文件。

## 🚀 快速上手 (开发模式)

1.  **克隆仓库**
    ```bash
    git clone https://github.com/ReaderC/subtitle-timeline-adjuster.git
    cd subtitle-adjuster
    ```

2.  **安装依赖**
    ```bash
    npm install
    ```

3.  **启动服务器**
    ```bash
    npm start
    ```
    服务器将在 `http://localhost:3000` 上运行。

## 🚢 部署 (生产环境)

1.  **配置**:
    - 复制 `config.example.json` 并重命名为 `config.json`。
    - **`media_dir`**: (可选) 设置一个目录路径，例如 `"C:/Users/YourUser/Videos"`。这会启用“从服务器浏览”功能，允许您访问该目录下的媒体文件。
    - **`server_token`**: (可选) 设置一个密码。如果设置了，前端用户在访问服务器文件或保存文件时，需要在“服务器设置”中输入此 Token。

2.  **运行**:
    建议使用 `pm2` 或其他进程管理工具来保持应用在后台运行。
    ```bash
    npm install pm2 -g
    pm2 start src/server.js --name subtitle-adjuster
    ```

## 📝 使用流程

1.  **添加文件**：
    - 点击“添加文件”按钮，从本地选择您的视频和字幕文件。
    - 或者直接将文件拖拽到文件列表区域。
2.  **选择文件**：在左侧的“视频”和“字幕”列表中，点击选择要处理的文件（选中的文件会高亮显示）。
3.  **加载与编辑**：
    - **同步预览模式**：选择视频和字幕后，点击“加载/重置预览”按钮。视频和字幕将加载到播放器中，同时下方会展开字幕编辑器。
    - **独立编辑模式**：只选择一个字幕文件，然后点击“单独编辑字幕”按钮。编辑器将直接打开，无需视频。
4.  **调整与编辑**：
    - **批量调整**：使用“字幕时间轴批量调整”卡片中的控件，对所有字幕进行整体延迟或提前。
    - **精细编辑**：在字幕编辑器中，您可以：
        - 点击时间框旁边的 `+` / `-` 按钮微调时间。
        - 直接修改时间或文本内容。
        - 点击“增加字幕”按钮添加新行。
        - 点击“删除”按钮移除一行。
5.  **保存文件**：
    - 点击“保存字幕”按钮。
    - 点击生成的下载链接，即可获取调整后的字幕文件。

## 🛠️ 技术栈

- **前端**：HTML, CSS, JavaScript (原生)
- **UI 框架**：Bootstrap 5
- **后端**：Node.js, Express
